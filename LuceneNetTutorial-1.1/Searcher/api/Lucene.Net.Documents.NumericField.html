<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html dir="LTR" xmlns:ndoc="urn:ndoc-schema"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="history" name="save" /><meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" /><title>NumericField Class</title><xml></xml><link rel="stylesheet" type="text/css" href="MSDN.css" /></head><body id="bodyID" class="dtBODY"><script type="text/javascript">
    	window.onload = function() {
	    	var i = window.frames["iframe_navi"];
	    	i.syncTree(document.URL);
    	}
    </script><div id="navi"><iframe src="contents.html" id="iframe_navi" name="iframe_navi"></iframe></div><div id="nsbanner"><div id="bannerrow1"><table class="bannerparthead" cellspacing="0"><tr id="hdr"><td class="runninghead">Lucene.Net</td><td class="product"></td></tr></table></div><div id="TitleRow"><h1 class="dtH1">NumericField Class</h1></div></div><div id="nstext"><p xmlns="urn:ndoc-schema"></p>This class provides a <a href="Lucene.Net.Documents.Field.html">Field</a> that enables indexing of numeric values for efficient range filtering and sorting. Here's an example usage, adding an int value: <pre class="code">document.add(new NumericField(name).setIntValue(value));
</pre> For optimal performance, re-use the <code>NumericField</code> and <a href="Lucene.Net.Documents.Document.html">Document</a> instance for more than one document: <pre class="code">NumericField field = new NumericField(name);
Document document = new Document();
document.add(field);

for(all documents) {
...
field.setIntValue(value)
writer.addDocument(document);
...
}
</pre><p xmlns="urn:ndoc-schema"></p>The .Net native types <code>int</code>, <code>long</code>, <code>float</code> and <code>double</code> are directly supported. However, any value that can be converted into these native types can also be indexed. For example, date/time values represented by a <a href="http://msdn.microsoft.com/en-us/library/System.DateTime(VS.100).aspx">DateTime</a> can be translated into a long value using the <code>java.util.Date.getTime</code> method. If you don't need millisecond precision, you can quantize the value, either by dividing the result of <code>java.util.Date.getTime</code> or using the separate getters (for year, month, etc.) to construct an <code>int</code> or <code>long</code> value.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>To perform range querying or filtering against a <code>NumericField</code>, use <a href="Lucene.Net.Search.NumericRangeQuery$1.html">NumericRangeQuery(T)</a> or <a href="Lucene.Net.Search.NumericRangeFilter$1.html">NumericRangeFilter(T)</a> . To sort according to a <code>NumericField</code>, use the normal numeric sort types, eg <a href="Lucene.Net.Search.SortField.INT.html">INT</a><code>NumericField</code> values can also be loaded directly from <a href="Lucene.Net.Search.FieldCache.html">FieldCache</a>.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>By default, a <code>NumericField</code>'s value is not stored but is indexed for range filtering and sorting. You can use the <a href="Lucene.Net.Documents.NumericField.~ctor2.html">NumericField</a> constructor if you need to change these defaults.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>You may add the same field name as a <code>NumericField</code> to the same document more than once. Range querying and filtering will be the logical OR of all values; so a range query will hit all documents that have at least one value in the range. However sort behavior is not defined. If you need to sort, you should separately index a single-valued <code>NumericField</code>.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>A <code>NumericField</code> will consume somewhat more disk space in the index than an ordinary single-valued field. However, for a typical index that includes substantial textual content per document, this increase will likely be in the noise. <p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>Within Lucene, each numeric value is indexed as a <em xmlns="urn:ndoc-schema">trie</em> structure, where each term is logically assigned to larger and larger pre-defined brackets (which are simply lower-precision representations of the value). The step size between each successive bracket is called the <code>precisionStep</code>, measured in bits. Smaller <code>precisionStep</code> values result in larger number of brackets, which consumes more disk space in the index but may result in faster range search performance. The default value, 4, was selected for a reasonable tradeoff of disk space consumption versus performance. You can use the expert constructor <a href="Lucene.Net.Documents.NumericField.~ctor4.html">NumericField</a> if you'd like to change the value. Note that you must also specify a congruent value when creating <b>NumericRangeQuery(T)</b> or <b>NumericRangeFilter(T)</b>. For low cardinality fields larger precision steps are good. If the cardinality is &lt; 100, it is fair to use <a href="http://msdn.microsoft.com/en-us/library/System.Int32.MaxValue(VS.100).aspx">MaxValue</a>, which produces one term per value. <p xmlns="urn:ndoc-schema"></p>For more information on the internals of numeric trie indexing, including the <a href="../search/NumericRangeQuery.html#precisionStepDesc" xmlns="urn:ndoc-schema"><code xmlns="">precisionStep</code></a> configuration, see <b>NumericRangeQuery(T)</b>. The format of indexed values is described in <a href="Lucene.Net.Util.NumericUtils.html">NumericUtils</a>. <p xmlns="urn:ndoc-schema"></p>If you only need to sort by numeric value, and never run range querying/filtering, you can index using a <code>precisionStep</code> of <b>MaxValue</b>. This will minimize disk space consumed. <p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>More advanced users can instead use <a href="Lucene.Net.Analysis.NumericTokenStream.html">NumericTokenStream</a> directly, when indexing numbers. This class is a wrapper around this token stream type for easier, more intuitive usage.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE:</b> This class is only used during indexing. When retrieving the stored field value from a <b>Document</b> instance after search, you will get a conventional <a href="Lucene.Net.Documents.IFieldable.html">IFieldable</a> instance where the numeric values are returned as <a href="http://msdn.microsoft.com/en-us/library/System.String(VS.100).aspx">String</a>s (according to <code>toString(value)</code> of the used data type). <p xmlns="urn:ndoc-schema"></p><font color="red" xmlns="urn:ndoc-schema"><b>NOTE:</b> This API is experimental and might change in incompatible ways in the next release.</font><p>
                For a list of all members of this type, see <a href="Lucene.Net.Documents.NumericField~Members.html">NumericField Members
                </a>.
              </p><p><a href="http://msdn.microsoft.com/en-us/library/System.Object(VS.100).aspx">System.Object</a><br />   <a href="Lucene.Net.Documents.AbstractField.html">AbstractField</a><br />      <b>NumericField</b></p><div class="syntax"><div class="attribute">[Serializable]</div><div>public sealed class NumericField<b> : <a href="Lucene.Net.Documents.AbstractField.html">AbstractField</a></b></div></div><H4 class="dtH4">Thread Safety</H4><P>
					Public static (<b>Shared</b> in Visual Basic) members of this type are
					safe for multithreaded operations. Instance members are <b>not</b> guaranteed to be
					thread-safe.
				</P><h4 class="dtH4">Requirements</h4><p><b>Namespace: </b><a href="Lucene.Net.Documents.html">Lucene.Net.Documents</a></p><p><b>Assembly: </b>Lucene.Net (in Lucene.Net.dll)
          </p><h4 class="dtH4">See Also</h4><p><a href="Lucene.Net.Documents.NumericField~Members.html">NumericField Members</a> | <a href="Lucene.Net.Documents.html">Lucene.Net.Documents Namespace</a></p><hr /><div id="footer"><p></p><p>Version: 3.0.3.0</p></div></div></body></html>