<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html dir="LTR" xmlns:ndoc="urn:ndoc-schema"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="history" name="save" /><meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" /><title>Token Class</title><xml></xml><link rel="stylesheet" type="text/css" href="MSDN.css" /></head><body id="bodyID" class="dtBODY"><script type="text/javascript">
    	window.onload = function() {
	    	var i = window.frames["iframe_navi"];
	    	i.syncTree(document.URL);
    	}
    </script><div id="navi"><iframe src="contents.html" id="iframe_navi" name="iframe_navi"></iframe></div><div id="nsbanner"><div id="bannerrow1"><table class="bannerparthead" cellspacing="0"><tr id="hdr"><td class="runninghead">Lucene.Net</td><td class="product"></td></tr></table></div><div id="TitleRow"><h1 class="dtH1">Token Class</h1></div></div><div id="nstext">A Token is an occurrence of a term from the text of a field. It consists of a term's text, the start and end offset of the term in the text of the field, and a type string. <p xmlns="urn:ndoc-schema"></p> The start and end offsets permit applications to re-associate a token with its source text, e.g., to display highlighted query terms in a document browser, or to show matching text fragments in a <abbr title="KeyWord In Context" xmlns="urn:ndoc-schema">KWIC</abbr> display, etc. <p xmlns="urn:ndoc-schema"></p> The type is a string, assigned by a lexical analyzer (a.k.a. tokenizer), naming the lexical or syntactic class that the token belongs to. For example an end of sentence marker token might be implemented with type "eos". The default token type is "word". <p xmlns="urn:ndoc-schema"></p> A Token can optionally have metadata (a.k.a. Payload) in the form of a variable length byte array. Use <a href="Lucene.Net.Index.TermPositions.PayloadLength.html">PayloadLength</a> and <a href="Lucene.Net.Index.TermPositions.GetPayload.html">GetPayload</a> to retrieve the payloads from the index. <p><br /><br /></p><p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE:</b> As of 2.9, Token implements all <a href="Lucene.Net.Util.IAttribute.html">IAttribute</a> interfaces that are part of core Lucene and can be found in the <a href="Lucene.Net.Analysis.Tokenattributes.html">Lucene.Net.Analysis.Tokenattributes</a> namespace. Even though it is not necessary to use Token anymore, with the new TokenStream API it can be used as convenience class that implements all <b>IAttribute</b>s, which is especially useful to easily switch from the old to the new TokenStream API. <br /><br /><p xmlns="urn:ndoc-schema"></p>Tokenizers and TokenFilters should try to re-use a Token instance when possible for best performance, by implementing the <a href="Lucene.Net.Analysis.TokenStream.IncrementToken.html">IncrementToken</a> API. Failing that, to create a new Token you should first use one of the constructors that starts with null text. To load the token from a char[] use <a href="Lucene.Net.Analysis.Token.SetTermBuffer1.html">SetTermBuffer</a>. To load from a String use <a href="Lucene.Net.Analysis.Token.SetTermBuffer2.html">SetTermBuffer</a> or <a href="Lucene.Net.Analysis.Token.SetTermBuffer3.html">SetTermBuffer</a>. Alternatively you can get the Token's termBuffer by calling either <a href="Lucene.Net.Analysis.Token.TermBuffer.html">TermBuffer</a>, if you know that your text is shorter than the capacity of the termBuffer or <a href="Lucene.Net.Analysis.Token.ResizeTermBuffer.html">ResizeTermBuffer</a>, if there is any possibility that you may need to grow the buffer. Fill in the characters of your term into this buffer, with <a href="http://msdn.microsoft.com/en-us/library/System.String.ToCharArray(System.Int32,System.Int32)(VS.100).aspx">ToCharArray</a> if loading from a string, or with <a href="http://msdn.microsoft.com/en-us/library/System.Array.Copy(System.Array,System.Int64,System.Array,System.Int64,System.Int64)(VS.100).aspx">Copy</a>, and finally call <a href="Lucene.Net.Analysis.Token.SetTermLength.html">SetTermLength</a> to set the length of the term text. See <a target="_top" href="https://issues.apache.org/jira/browse/LUCENE-969" xmlns="urn:ndoc-schema">LUCENE-969</a> for details.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>Typical Token reuse patterns: <ul type="disc"><li> Copying text from a string (type is reset to <a href="Lucene.Net.Analysis.Token.DEFAULT_TYPE.html">DEFAULT_TYPE</a> if not specified):<br /><pre class="code">return reusableToken.reinit(string, startOffset, endOffset[, type]);
</pre></li><li> Copying some text from a string (type is reset to <b>DEFAULT_TYPE</b> if not specified):<br /><pre class="code">return reusableToken.reinit(string, 0, string.length(), startOffset, endOffset[, type]);
</pre></li><li> Copying text from char[] buffer (type is reset to <b>DEFAULT_TYPE</b> if not specified):<br /><pre class="code">return reusableToken.reinit(buffer, 0, buffer.length, startOffset, endOffset[, type]);
</pre></li><li> Copying some text from a char[] buffer (type is reset to <b>DEFAULT_TYPE</b> if not specified):<br /><pre class="code">return reusableToken.reinit(buffer, start, end - start, startOffset, endOffset[, type]);
</pre></li><li> Copying from one one Token to another (type is reset to <b>DEFAULT_TYPE</b> if not specified):<br /><pre class="code">return reusableToken.reinit(source.termBuffer(), 0, source.termLength(), source.startOffset(), source.endOffset()[, source.type()]);
</pre></li></ul> A few things to note: <ul type="disc"><li>clear() initializes all of the fields to default values. This was changed in contrast to Lucene 2.4, but should affect no one.</li><li>Because <code>TokenStreams</code> can be chained, one cannot assume that the <code>Token's</code> current type is correct.</li><li>The startOffset and endOffset represent the start and offset in the source text, so be careful in adjusting them.</li><li>When caching a reusable token, clone it. When injecting a cached token into a stream that can be reset, clone it again.</li></ul><p xmlns="urn:ndoc-schema"></p><p>
                For a list of all members of this type, see <a href="Lucene.Net.Analysis.Token~Members.html">Token Members
                </a>.
              </p><p><a href="http://msdn.microsoft.com/en-us/library/System.Object(VS.100).aspx">System.Object</a><br />   <a href="Lucene.Net.Util.Attribute.html">Attribute</a><br />      <b>Token</b></p><div class="syntax"><div class="attribute">[Serializable]</div><div>public class Token<b> : <a href="Lucene.Net.Util.Attribute.html">Attribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.ITermAttribute.html">ITermAttribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.ITypeAttribute.html">ITypeAttribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.IPositionIncrementAttribute.html">IPositionIncrementAttribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.IFlagsAttribute.html">IFlagsAttribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.IOffsetAttribute.html">IOffsetAttribute</a>, <a href="Lucene.Net.Analysis.Tokenattributes.IPayloadAttribute.html">IPayloadAttribute</a></b></div></div><H4 class="dtH4">Thread Safety</H4><P>
					Public static (<b>Shared</b> in Visual Basic) members of this type are
					safe for multithreaded operations. Instance members are <b>not</b> guaranteed to be
					thread-safe.
				</P><h4 class="dtH4">Requirements</h4><p><b>Namespace: </b><a href="Lucene.Net.Analysis.html">Lucene.Net.Analysis</a></p><p><b>Assembly: </b>Lucene.Net (in Lucene.Net.dll)
          </p><h4 class="dtH4">See Also</h4><p><a href="Lucene.Net.Analysis.Token~Members.html">Token Members</a> | <a href="Lucene.Net.Analysis.html">Lucene.Net.Analysis Namespace</a> | <a href="Lucene.Net.Index.Payload.html">Payload</a></p><hr /><div id="footer"><p></p><p>Version: 3.0.3.0</p></div></div></body></html>