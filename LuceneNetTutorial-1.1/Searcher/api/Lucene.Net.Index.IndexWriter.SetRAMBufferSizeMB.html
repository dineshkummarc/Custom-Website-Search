<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html dir="LTR" xmlns:ndoc="urn:ndoc-schema"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="history" name="save" /><meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" /><title>IndexWriter.SetRAMBufferSizeMB Method</title><xml></xml><link rel="stylesheet" type="text/css" href="MSDN.css" /></head><body id="bodyID" class="dtBODY"><script type="text/javascript">
    	window.onload = function() {
	    	var i = window.frames["iframe_navi"];
	    	i.syncTree(document.URL);
    	}
    </script><div id="navi"><iframe src="contents.html" id="iframe_navi" name="iframe_navi"></iframe></div><div id="nsbanner"><div id="bannerrow1"><table class="bannerparthead" cellspacing="0"><tr id="hdr"><td class="runninghead">Lucene.Net</td><td class="product"></td></tr></table></div><div id="TitleRow"><h1 class="dtH1">IndexWriter.SetRAMBufferSizeMB Method</h1></div></div><div id="nstext">Determines the amount of RAM that may be used for buffering added documents and deletions before they are flushed to the Directory. Generally for faster indexing performance it's best to flush by RAM usage instead of document count and use as large a RAM buffer as you can. <p xmlns="urn:ndoc-schema"></p>When this is set, the writer will flush whenever buffered documents and deletions use this much RAM. Pass in <a href="Lucene.Net.Index.IndexWriter.DISABLE_AUTO_FLUSH.html">DISABLE_AUTO_FLUSH</a> to prevent triggering a flush due to RAM usage. Note that if flushing by document count is also enabled, then the flush will be triggered by whichever comes first.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE</b>: the account of RAM usage for pending deletions is only approximate. Specifically, if you delete by Query, Lucene currently has no way to measure the RAM usage if individual Queries so the accounting will under-estimate and you should compensate by either calling commit() periodically yourself, or by using <a href="Lucene.Net.Index.IndexWriter.SetMaxBufferedDeleteTerms.html">SetMaxBufferedDeleteTerms</a> to flush by count instead of RAM usage (each buffered delete Query counts as one). <p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE</b>: because IndexWriter uses <code>int</code>s when managing its internal storage, the absolute maximum value for this setting is somewhat less than 2048 MB. The precise limit depends on various factors, such as how large your documents are, how many fields have norms, etc., so it's best to set this value comfortably under 2048. <p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p> The default value is <a href="Lucene.Net.Index.IndexWriter.DEFAULT_RAM_BUFFER_SIZE_MB.html">DEFAULT_RAM_BUFFER_SIZE_MB</a>.<p xmlns="urn:ndoc-schema"></p><p> enabled but non-positive, or it disables ramBufferSize when maxBufferedDocs is already disabled </p><div class="syntax">public virtual <a href="">void</a> SetRAMBufferSizeMB(<br />   <a href="">double</a> <i>mb</i><br />);</div><h4 class="dtH4">See Also</h4><p><a href="Lucene.Net.Index.IndexWriter.html">IndexWriter Class</a> | <a href="Lucene.Net.Index.html">Lucene.Net.Index Namespace</a></p><hr /><div id="footer"><p></p><p>Version: 3.0.3.0</p></div></div></body></html>