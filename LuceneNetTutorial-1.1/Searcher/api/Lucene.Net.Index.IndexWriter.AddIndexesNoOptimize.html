<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html dir="LTR" xmlns:ndoc="urn:ndoc-schema"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="history" name="save" /><meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" /><title>IndexWriter.AddIndexesNoOptimize Method</title><xml></xml><link rel="stylesheet" type="text/css" href="MSDN.css" /></head><body id="bodyID" class="dtBODY"><script type="text/javascript">
    	window.onload = function() {
	    	var i = window.frames["iframe_navi"];
	    	i.syncTree(document.URL);
    	}
    </script><div id="navi"><iframe src="contents.html" id="iframe_navi" name="iframe_navi"></iframe></div><div id="nsbanner"><div id="bannerrow1"><table class="bannerparthead" cellspacing="0"><tr id="hdr"><td class="runninghead">Lucene.Net</td><td class="product"></td></tr></table></div><div id="TitleRow"><h1 class="dtH1">IndexWriter.AddIndexesNoOptimize Method</h1></div></div><div id="nstext"> Merges all segments from an array of indexes into this index. <p xmlns="urn:ndoc-schema"></p>This may be used to parallelize batch indexing. A large document collection can be broken into sub-collections. Each sub-collection can be indexed in parallel, on a different thread, process or machine. The complete index can then be created by merging sub-collection indexes with this method. <p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE:</b> the index in each Directory must not be changed (opened by a writer) while this method is running. This method does not acquire a write lock in each input Directory, so it is up to the caller to enforce this. <p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE:</b> while this is running, any attempts to add or delete documents (with another thread) will be paused until this method completes. <p xmlns="urn:ndoc-schema"></p>This method is transactional in how Exceptions are handled: it does not commit a new segments_N file until all indexes are added. This means if an Exception occurs (for example disk full), then either no indexes will have been added or they all will have been.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>Note that this requires temporary free space in the Directory up to 2X the sum of all input indexes (including the starting index). If readers/searchers are open against the starting index, then temporary free space required will be higher by the size of the starting index (see <a href="Lucene.Net.Index.IndexWriter.Optimize1.html">Optimize</a> for details). <p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>Once this completes, the final size of the index will be less than the sum of all input index sizes (including the starting index). It could be quite a bit smaller (if there were many pending deletes) or just slightly smaller.<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p> This requires this index not be among those to be added. <p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">NOTE</b>: if this method hits an OutOfMemoryError you should immediately close the writer. See <a href="#OOME" xmlns="urn:ndoc-schema">above</a> for details.<p xmlns="urn:ndoc-schema"></p><div class="syntax">public virtual <a href="">void</a> AddIndexesNoOptimize(<br />   params <a href="Lucene.Net.Store.Directory.html">Directory</a>[] <i>dirs</i><br />);</div><h4 class="dtH4">See Also</h4><p><a href="Lucene.Net.Index.IndexWriter.html">IndexWriter Class</a> | <a href="Lucene.Net.Index.html">Lucene.Net.Index Namespace</a></p><hr /><div id="footer"><p></p><p>Version: 3.0.3.0</p></div></div></body></html>