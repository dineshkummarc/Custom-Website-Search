<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html dir="LTR" xmlns:ndoc="urn:ndoc-schema"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="history" name="save" /><meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" /><title>IndexDeletionPolicy Interface</title><xml></xml><link rel="stylesheet" type="text/css" href="MSDN.css" /></head><body id="bodyID" class="dtBODY"><script type="text/javascript">
    	window.onload = function() {
	    	var i = window.frames["iframe_navi"];
	    	i.syncTree(document.URL);
    	}
    </script><div id="navi"><iframe src="contents.html" id="iframe_navi" name="iframe_navi"></iframe></div><div id="nsbanner"><div id="bannerrow1"><table class="bannerparthead" cellspacing="0"><tr id="hdr"><td class="runninghead">Lucene.Net</td><td class="product"></td></tr></table></div><div id="TitleRow"><h1 class="dtH1">IndexDeletionPolicy Interface</h1></div></div><div id="nstext"><p xmlns="urn:ndoc-schema"></p>Expert: policy for deletion of stale <a href="Lucene.Net.Index.IndexCommit.html">index commits</a>. <p xmlns="urn:ndoc-schema"></p>Implement this interface, and pass it to one of the <a href="Lucene.Net.Index.IndexWriter.html">IndexWriter</a> or <a href="Lucene.Net.Index.IndexReader.html">IndexReader</a> constructors, to customize when older <b>point-in-time commits</b> are deleted from the index directory. The default deletion policy is <a href="Lucene.Net.Index.KeepOnlyLastCommitDeletionPolicy.html">KeepOnlyLastCommitDeletionPolicy</a>, which always removes old commits as soon as a new commit is done (this matches the behavior before 2.2).<p xmlns="urn:ndoc-schema"></p><p xmlns="urn:ndoc-schema"></p>One expected use case for this (and the reason why it was first created) is to work around problems with an index directory accessed via filesystems like NFS because NFS does not provide the "delete on last close" semantics that Lucene's "point in time" search normally relies on. By implementing a custom deletion policy, such as "a commit is only removed once it has been stale for more than X minutes", you can give your readers time to refresh to the new commit before <b>IndexWriter</b> removes the old commits. Note that doing so will increase the storage requirements of the index. See <a target="top" href="http://issues.apache.org/jira/browse/LUCENE-710" xmlns="urn:ndoc-schema">LUCENE-710</a> for details.<p xmlns="urn:ndoc-schema"></p><p>
                For a list of all members of this type, see <a href="Lucene.Net.Index.IndexDeletionPolicy~Members.html">IndexDeletionPolicy Members
                </a>.
              </p><p></p><div class="syntax"><div>public interface IndexDeletionPolicy</div></div><h4 class="dtH4">
        Types that implement IndexDeletionPolicy</h4><div class="tablediv"><table class="dtTABLE" cellspacing="0"><tr valign="top"><th width="50%">Type</th><th width="50%">Description</th></tr><tr valign="top"><td width="50%"><a href="Lucene.Net.Index.KeepOnlyLastCommitDeletionPolicy.html">KeepOnlyLastCommitDeletionPolicy</a></td><td width="50%"> This <a href="Lucene.Net.Index.IndexDeletionPolicy.html">IndexDeletionPolicy</a> implementation that keeps only the most recent commit and immediately removes all prior commits after a new commit is done. This is the default deletion policy. </td></tr><tr valign="top"><td width="50%"><a href="Lucene.Net.Index.SnapshotDeletionPolicy.html">SnapshotDeletionPolicy</a></td><td width="50%">A <a href="Lucene.Net.Index.IndexDeletionPolicy.html">IndexDeletionPolicy</a> that wraps around any other <b>IndexDeletionPolicy</b> and adds the ability to hold and later release a single "snapshot" of an index. While the snapshot is held, the <a href="Lucene.Net.Index.IndexWriter.html">IndexWriter</a> will not remove any files associated with it even if the index is otherwise being actively, arbitrarily changed. Because we wrap another arbitrary <b>IndexDeletionPolicy</b>, this gives you the freedom to continue using whatever <b>IndexDeletionPolicy</b> you would normally want to use with your index. Note that you can re-use a single instance of SnapshotDeletionPolicy across multiple writers as long as they are against the same index Directory. Any snapshot held when a writer is closed will "survive" when the next writer is opened. <p xmlns="urn:ndoc-schema"></p><b xmlns="urn:ndoc-schema">WARNING</b>: This API is a new and experimental and may suddenly change.<p xmlns="urn:ndoc-schema"></p></td></tr></table></div><h4 class="dtH4">Requirements</h4><p><b>Namespace: </b><a href="Lucene.Net.Index.html">Lucene.Net.Index</a></p><p><b>Assembly: </b>Lucene.Net (in Lucene.Net.dll)
          </p><h4 class="dtH4">See Also</h4><p><a href="Lucene.Net.Index.IndexDeletionPolicy~Members.html">IndexDeletionPolicy Members</a> | <a href="Lucene.Net.Index.html">Lucene.Net.Index Namespace</a></p><hr /><div id="footer"><p></p><p>Version: 3.0.3.0</p></div></div></body></html>